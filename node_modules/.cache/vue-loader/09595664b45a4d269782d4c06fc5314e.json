{"remainingRequest":"C:\\Users\\Anik Datta\\Desktop\\VueProject\\test\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Anik Datta\\Desktop\\VueProject\\test\\test\\src\\views\\Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Anik Datta\\Desktop\\VueProject\\test\\test\\src\\views\\Admin.vue","mtime":1611239073885},{"path":"C:\\Users\\Anik Datta\\Desktop\\VueProject\\test\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Anik Datta\\Desktop\\VueProject\\test\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Anik Datta\\Desktop\\VueProject\\test\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Anik Datta\\Desktop\\VueProject\\test\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6IG51bGwsCiAgICAgIHNlbGVjdDogMTAsCiAgICAgIG9wdGlvbnM6IFsKICAgICAgICB7IGl0ZW06IDEwLCBuYW1lOiAxMCB9LAogICAgICAgIHsgaXRlbTogMjAsIG5hbWU6IDIwIH0sCiAgICAgICAgeyBpdGVtOiAzMCwgbmFtZTogMzAgfSwKICAgICAgICB7IGl0ZW06IDQwLCBuYW1lOiA0MCB9LAogICAgICAgIHsgaXRlbTogIkFsbCIsIG5hbWU6ICJBbGwiIH0sCiAgICAgIF0sCiAgICAgIGdlbmRlcjogIkFsbCIsCiAgICAgIGdlbmRlcnM6IFsKICAgICAgICB7IGl0ZW06ICJNYWxlIiwgbmFtZTogIk1hbGUiIH0sCiAgICAgICAgeyBpdGVtOiAiRmVtYWxlIiwgbmFtZTogIkZlbWFsZSIgfSwKICAgICAgICB7IGl0ZW06ICJBbGwiLCBuYW1lOiAiQWxsIiB9LAogICAgICBdLAogICAgICBrZXk6IG51bGwsCiAgICAgIHVzZXJzbGVuZ3RoOiAwLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VycygpIHsKICAgICAgdmFyIHNob3J0bGlzdCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0dXNlcnM7CiAgICAgIHRoaXMudXNlcnNsZW5ndGggPSBzaG9ydGxpc3QubGVuZ3RoOwogICAgICBpZiAodGhpcy5nZW5kZXIgIT0gIkFsbCIpIHsKICAgICAgICBzaG9ydGxpc3QgPSBzaG9ydGxpc3QuZmlsdGVyKCh4KSA9PiB4LmdlbmRlciA9PSB0aGlzLmdlbmRlcik7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc2VsZWN0ID09ICJBbGwiKSB7CiAgICAgICAgcmV0dXJuIHNob3J0bGlzdDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gc2hvcnRsaXN0LnNsaWNlKDAsIHRoaXMuc2VsZWN0KTsKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNodXNlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNodXNlcnMoKSB7CiAgICAgIGlmICh0aGlzLnVzZXJzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRVc2VycyIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoKCkgewogICAgICBpZiAodGhpcy5rZXkubGVuZ3RoID4gMSkgewogICAgICAgIGNvbnNvbGUubG9nKCJTZWFyY2hpbmciKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2VhcmNoVXNlcnMiLCB0aGlzLmtleSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRVc2VyKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZWRpdFVzZXIiLCB0aGlzLnVzZXJzbGVuZ3RoICsgMSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9mb3JtIiB9KTsKICAgIH0sCiAgICBlZGl0VXNlcihpZCkgewogICAgICBjb25zb2xlLmxvZygiSGkgdGhpcyBpcyBpZDoiLCBpZCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJlZGl0VXNlciIsIGlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2Zvcm0iIH0pOwogICAgfSwKICAgIGRlbGV0ZVVzZXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuaWQpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVsZXRlVXNlciIsIHRoaXMuaWQpOwogICAgICB0aGlzLiRyZWZzWyJteS1tb2RhbCJdLmhpZGUoKTsKICAgIH0sCiAgICBzaG93TW9kYWwocGF5bG9hZCkgewogICAgICB0aGlzLmlkID0gcGF5bG9hZDsKICAgICAgdGhpcy4kcmVmc1sibXktbW9kYWwiXS5zaG93KCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <!-- <h1>{{ users }}</h1> -->\n    <div class=\"mt\">\n      <b-form-group class=\"selector\" label=\"Number of user:\">\n        <b-form-select\n          v-model=\"select\"\n          :options=\"options\"\n          class=\"mb-3\"\n          value-field=\"item\"\n          text-field=\"name\"\n          disabled-field=\"notEnabled\"\n        ></b-form-select>\n      </b-form-group>\n\n      <b-form-group class=\"selector\" label=\"Filter By Gender:\">\n        <b-form-select\n          v-model=\"gender\"\n          :options=\"genders\"\n          class=\"mb-3\"\n          value-field=\"item\"\n          text-field=\"name\"\n          disabled-field=\"notEnabled\"\n        ></b-form-select>\n      </b-form-group>\n\n      <b-form class=\"search\" @submit.prevent=\"search\">\n        <b-form-input\n          v-model=\"key\"\n          class=\"mr-sm-2\"\n          type=\"search\"\n          @input=\"search\"\n          placeholder=\"Search\"\n          required\n        ></b-form-input>\n        <b-button class=\"my-2 my-sm-0\" type=\"submit\">Search</b-button>\n      </b-form>\n\n      <b-button class=\"btn\" variant=\"outline-primary\" @click=\"addUser\">\n        + Add user\n      </b-button>\n    </div>\n    <b-table-simple hover small caption-top responsive>\n      <b-thead head-variant=\"dark\">\n        <b-tr>\n          <b-th colspan=\"2\">Name</b-th>\n          <b-th colspan=\"2\">Email</b-th>\n          <b-th colspan=\"2\">Gender</b-th>\n          <b-th colspan=\"2\">Address</b-th>\n          <b-th colspan=\"2\">Actions</b-th>\n        </b-tr>\n      </b-thead>\n      <b-tbody>\n        <b-tr v-for=\"(user, index) in users\" :key=\"index\">\n          <b-td colspan=\"2\">{{ user.user_name }}</b-td>\n          <b-td colspan=\"2\">{{ user.email }}</b-td>\n          <b-td colspan=\"2\">{{ user.gender }}</b-td>\n          <b-td colspan=\"2\">{{ user.address }}</b-td>\n          <b-td colspan=\"2\">\n            <b-form-checkbox\n              v-model=\"user.active\"\n              name=\"check-button\"\n              switch\n            ></b-form-checkbox>\n            <a href=\"#\" @click=\"editUser(user.id)\"\n              >Edit\n              <b-icon icon=\"pencil-fill\" variant=\"info\"></b-icon>\n            </a>\n            <a href=\"#\" id=\"show-btn\" @click=\"showModal(user.id)\">\n              Delete\n              <b-icon icon=\"trash-fill\" variant=\"danger\"></b-icon>\n            </a>\n          </b-td>\n        </b-tr>\n      </b-tbody>\n    </b-table-simple>\n    <b-modal ref=\"my-modal\" hide-footer title=\"Confrim\">\n      <div class=\"d-block text-center\">\n        <h3>Are yoy sure you want to delete this user??</h3>\n      </div>\n      <b-button class=\"mt-3\" variant=\"outline-danger\" block @click=\"deleteUser\"\n        >Delete</b-button\n      >\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      id: null,\n      select: 10,\n      options: [\n        { item: 10, name: 10 },\n        { item: 20, name: 20 },\n        { item: 30, name: 30 },\n        { item: 40, name: 40 },\n        { item: \"All\", name: \"All\" },\n      ],\n      gender: \"All\",\n      genders: [\n        { item: \"Male\", name: \"Male\" },\n        { item: \"Female\", name: \"Female\" },\n        { item: \"All\", name: \"All\" },\n      ],\n      key: null,\n      userslength: 0,\n    };\n  },\n  computed: {\n    users() {\n      var shortlist = this.$store.getters.getusers;\n      this.userslength = shortlist.length;\n      if (this.gender != \"All\") {\n        shortlist = shortlist.filter((x) => x.gender == this.gender);\n      }\n      if (this.select == \"All\") {\n        return shortlist;\n      } else {\n        return shortlist.slice(0, this.select);\n      }\n    },\n  },\n  mounted() {\n    this.fetchusers();\n  },\n  methods: {\n    fetchusers() {\n      if (this.users.length == 0) {\n        var self = this;\n        axios.get(\"http://localhost:3000/users\").then((response) => {\n          console.log(response);\n          this.$store.dispatch(\"setUsers\", response.data);\n        });\n      }\n    },\n    search() {\n      if (this.key.length > 1) {\n        console.log(\"Searching\");\n        this.$store.dispatch(\"searchUsers\", this.key);\n      }\n    },\n    addUser() {\n      this.$store.dispatch(\"editUser\", this.userslength + 1);\n      this.$router.push({ path: \"/form\" });\n    },\n    editUser(id) {\n      console.log(\"Hi this is id:\", id);\n      this.$store.dispatch(\"editUser\", id);\n      this.$router.push({ path: \"/form\" });\n    },\n    deleteUser() {\n      console.log(this.id);\n      this.$store.dispatch(\"deleteUser\", this.id);\n      this.$refs[\"my-modal\"].hide();\n    },\n    showModal(payload) {\n      this.id = payload;\n      this.$refs[\"my-modal\"].show();\n    },\n  },\n};\n</script>\n\n<style>\n.mt {\n  padding-top: 40px;\n}\n.mt .selector {\n  width: 20%;\n  float: left;\n  margin-right: 20px;\n}\n.mt .btn {\n  float: right;\n  margin: 31px 0 0 0;\n  font-weight: 900;\n}\n.search {\n  float: left;\n  display: inline-flex;\n  margin-top: 31px !important;\n}\n</style>\n"]}]}